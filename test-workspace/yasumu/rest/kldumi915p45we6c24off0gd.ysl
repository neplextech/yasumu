@rest

metadata {
  name: "Get Rauchg's GitHub Profile"
  method: "GET"
  id: "kldumi915p45we6c24off0gd"
  groupId: null
}

request {
  url: "https://api.github.com/users/rauchg"
  headers: []
  parameters: []
  searchParameters: []
  body: null
}

dependencies []

script {
  interface IGithubUser {
    followers: number;
    name: string;
  }
  
  export async function onResponse(req: YasumuRequest, res: YasumuResponse) {
    const body = res.json<IGithubUser>();
  
    await Yasumu.ui.showNotification({
      title: 'GitHub Profile Fetched',
      message: `${body.name} has ${body.followers.toLocaleString()} followers count on github.`,
      variant: 'info',
    });
  
    res.env.setVariable('FOLLOWER_COUNT', body.followers.toString())
  }
}

